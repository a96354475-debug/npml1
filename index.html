<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NPML — Natural Products Metabolomics Lab</title>

  <!-- 캐시 우회: 처음 로드 시 ?v=YYYYMMDD-HHMMSS 붙이기 -->
  <script>
    (function(){
      try{
        const url=new URL(location.href);
        if(url.searchParams.has('v')) return;
        const p=n=>String(n).padStart(2,'0');
        const now=new Date();
        const kr=new Date(now.getTime()+9*3600*1000);
        const ver=kr.getUTCFullYear()+p(kr.getUTCMonth()+1)+p(kr.getUTCDate())+'-'+p(kr.getUTCHours())+p(kr.getUTCMinutes())+p(kr.getUTCSeconds());
        url.searchParams.set('v',ver);
        location.replace(url.toString());
      }catch(e){console.warn('cachebuster failed',e);}
    })();
  </script>

  <!-- 폰트 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Noto+Sans+KR:wght@400;600&display=swap" rel="stylesheet">

  <style>
    /* ===== Theme (한곳에서 색/배경/배너이미지 변경) ===== */
    :root{
      --brand:#004A9F;          /* 포인트 */
      --border:#e5e7eb;         /* 테두리 */
      --muted:#475569;          /* 보조 글자색 */
      --footer-bg:#0f172a;      /* 푸터 배경 */
      --footer-fg:#e2e8f0;      /* 푸터 글자색 */
      --quick3:#34d399;         /* 바로가기 카드 색 */
      --gap:18px;               /* 캐러셀 카드 간격 */
      /* 히어로 배너 배경 이미지 (src만 교체) */
      --hero-img:url('https://images.unsplash.com/photo-1527477396000-e27163b481c2?q=80&w=1600&auto=format&fit=crop');
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:"Noto Sans KR",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#0f172a;background:#fff}
    h2{font-family:Montserrat,sans-serif;font-size:28px;margin-bottom:12px}
    a{text-decoration:none;color:inherit}

    /* ===== Top Bar ===== */
    .topbar{border-bottom:1px solid var(--border);background:#fff}
    .topbar-inner{max-width:1200px;margin:0 auto;padding:8px 4%;display:flex;align-items:center;gap:18px;flex-wrap:wrap}
    .logos{display:flex;align-items:center;gap:14px}
    .logos img{height:32px;object-fit:contain}
    .lab-title{margin-left:auto;font-family:Montserrat,sans-serif;font-weight:700}
    .lab-title small{display:block;font-family:"Noto Sans KR",sans-serif;font-weight:600;color:var(--muted);font-size:12px}

    /* ===== Nav ===== */
    .nav{position:sticky;top:0;z-index:50;background:#fff;border-bottom:1px solid var(--border)}
    .nav-inner{max-width:1200px;margin:0 auto;padding:0 4%;display:flex;justify-content:space-between;align-items:center;height:52px}
    .brand{font-family:Montserrat,sans-serif;font-weight:700;font-size:18px}
    nav a{margin-left:20px;font-weight:600}
    nav a:hover{color:var(--brand)}

    /* ===== Hero ===== */
    .hero{position:relative;display:grid;place-items:center;text-align:center;color:#fff;background-image:linear-gradient( to bottom, rgba(0,0,0,.35), rgba(0,0,0,.45) ), var(--hero-img);background-size:cover;background-position:center;min-height:240px;padding:36px 4%}
    .hero h1{font-family:Montserrat,sans-serif;font-size:34px;letter-spacing:.2px;margin-bottom:8px}
    .hero p{opacity:.95}

    /* ===== Layout ===== */
    .wrap{max-width:1200px;margin:24px auto;padding:0 4%}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:24px}
    @media(max-width:980px){.grid{grid-template-columns:1fr}}

    /* ===== Section Card ===== */
    .section{border:1px solid var(--border);border-radius:14px;padding:12px;background:#fff}
    .head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
    .controls{display:flex;gap:8px}
    .btn{width:36px;height:36px;border:1px solid var(--border);background:#fff;border-radius:10px;display:inline-grid;place-items:center;cursor:pointer}
    .btn:active{transform:scale(.98)}
    .btn svg{width:18px;height:18px}

    /* ===== Carousel ===== */
    .clip{overflow:hidden;border-radius:10px}
    .track{display:flex;gap:var(--gap);will-change:transform;transition:transform .4s ease}
    .card{flex:0 0 calc((100% - var(--gap)*2)/3);border:1px solid var(--border);border-radius:12px;overflow:hidden;background:#fff;display:flex;flex-direction:column}
    @media(max-width:1200px){.card{flex-basis:calc((100% - var(--gap))/2)}}
    @media(max-width:640px){.card{flex-basis:100%}}
    .thumb{aspect-ratio:16/9;display:flex;align-items:center;justify-content:center;background:#fafafa}
    .thumb img{max-width:82%;max-height:82%}
    .body{padding:12px 14px}
    .title{font-weight:700;margin-bottom:6px}
    .meta{color:var(--muted);font-size:13px}

    /* ===== Notices & Quick Links ===== */
    .two-col{display:grid;grid-template-columns:1.3fr .7fr;gap:24px}
    @media(max-width:980px){.two-col{grid-template-columns:1fr}}
    .notice{border:1px solid var(--border);border-radius:12px;background:#fff}
    .notice h3{font-family:Montserrat,sans-serif;font-size:20px;padding:12px 14px;border-bottom:1px solid var(--border)}
    .notice ul{list-style:none;padding:8px 14px}
    .notice li+li{border-top:1px dashed var(--border)}
    .notice a{display:flex;align-items:center;justify-content:space-between;padding:10px 2px}
    .notice time{color:var(--muted);font-size:12px;margin-left:10px;white-space:nowrap}

    .quick{display:grid;grid-template-columns:1fr;gap:16px}
    .quick a{display:block;border-radius:14px;padding:18px 16px;color:#fff;font-weight:700;box-shadow:0 6px 14px rgba(0,0,0,.12)}
    .q3{background:linear-gradient(135deg,var(--quick3),#34d399)}
    .quick small{display:block;font-weight:600;opacity:.95;margin-top:6px}

    /* ===== Footer ===== */
    footer{margin-top:28px;background:var(--footer-bg);color:var(--footer-fg)}
    .foot-inner{max-width:1200px;margin:0 auto;padding:18px 4%}
    .foot-top{display:flex;gap:18px;flex-wrap:wrap;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(226,232,240,.18);padding-bottom:12px;margin-bottom:12px}
    .foot-links a{color:var(--footer-fg);opacity:.9;margin-right:14px}
    .foot-links a:hover{opacity:1;text-decoration:underline}
    .foot-meta{font-size:13px;opacity:.85;line-height:1.6}
  </style>
</head>
<body>

  <!-- 상단 로고/타이틀 -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="logos">
        <!-- 로고 src만 교체하세요 (raw 주소 권장) -->
        <img src="https://raw.githubusercontent.com/a96354475-debug/npml1/main/%EC%82%AC%EC%A7%84%201154.jpg" alt="연구실 로고">
        <img src="https://dummyimage.com/120x32/cccccc/ffffff&text=Univ" alt="대학 로고">
        <img src="https://dummyimage.com/120x32/cccccc/ffffff&text=College" alt="단과대 로고">
      </div>
      <div class="lab-title">
        Natural Products Metabolomics Lab
        <small>천연물 대사체 연구실</small>
      </div>
    </div>
  </div>

  <!-- 내비 -->
  <div class="nav">
    <div class="nav-inner">
      <div class="brand">NPML</div>
      <nav>
        <a href="#home">홈</a>
        <a href="#research-sec">Research</a>
        <a href="#pubs-sec">Publications</a>
        <a href="#links-sec">Links</a>
      </nav>
    </div>
  </div>

  <!-- 히어로 배너 (이미지는 --hero-img 변수로 교체) -->
  <section class="hero" id="home">
    <div>
      <h1>경북대학교 천연물 대사체 연구실</h1>
      <p>활성성분 동정 · 바이오마커 개발 · 작용기전 규명</p>
    </div>
  </section>

  <!-- 두 개의 캐러셀 섹션 -->
  <div class="wrap">
    <div class="grid">
      <!-- Research -->
      <section class="section" data-carousel id="research-sec">
        <div class="head">
          <h2>Research Topics</h2>
          <div class="controls">
            <button class="btn" data-prev aria-label="이전">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
            </button>
            <button class="btn" data-next aria-label="다음">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
            </button>
          </div>
        </div>
        <div class="clip">
          <div class="track">
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/a/640/360" alt=""></div><div class="body"><h3 class="title">천연물 약리기전</h3><div class="meta">활성 성분 분리·동정</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/b/640/360" alt=""></div><div class="body"><h3 class="title">대사체 바이오마커</h3><div class="meta">LC–MS/NMR</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/c/640/360" alt=""></div><div class="body"><h3 class="title">에너지 대사·섬유화</h3><div class="meta">미토콘드리아 타깃</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/d/640/360" alt=""></div><div class="body"><h3 class="title">신규 화합물</h3><div class="meta">구조·기전 규명</div></div></article>
          </div>
        </div>
      </section>

      <!-- Publications -->
      <section class="section" data-carousel id="pubs-sec">
        <div class="head">
          <h2>Recent Publications</h2>
          <div class="controls">
            <button class="btn" data-prev aria-label="이전">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
            </button>
            <button class="btn" data-next aria-label="다음">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
            </button>
          </div>
        </div>
        <div class="clip">
          <div class="track">
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/e/640/360" alt=""></div><div class="body"><h3 class="title">Paper A</h3><div class="meta">Journal · 2025</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/f/640/360" alt=""></div><div class="body"><h3 class="title">Paper B</h3><div class="meta">Journal · 2024</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/g/640/360" alt=""></div><div class="body"><h3 class="title">Paper C</h3><div class="meta">Journal · 2023</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/h/640/360" alt=""></div><div class="body"><h3 class="title">Paper D</h3><div class="meta">Journal · 2022</div></div></article>
          </div>
        </div>
      </section>
    </div>

    <!-- 공지 + 바로가기 -->
    <section class="two-col" id="links-sec" style="margin-top:24px">
      <div class="notice">
        <h3>NOTICES</h3>
        <ul>
          <li><a href="#"><span>공지 1</span><time>2025-08-12</time></a></li>
          <li><a href="#"><span>공지 2</span><time>2025-08-05</time></a></li>
          <li><a href="#"><span>공지 3</span><time>2025-07-30</time></a></li>
        </ul>
      </div>

      <div class="quick">
        <a class="q3" href="#" target="_blank" rel="noopener">
          GALLERY
          <small>연구실 사진 보기</small>
        </a>
      </div>
    </section>
  </div>

  <!-- 캐러셀 스크립트 (translateX 기반) -->
  <script>
    (function(){
      document.querySelectorAll('[data-carousel]').forEach(sec=>{
        const track=sec.querySelector('.track');
        const cards=[...track.children];
        const prev=sec.querySelector('[data-prev]');
        const next=sec.querySelector('[data-next]');
        let index=0,visible=3,cardW=0,timer=null;

        function compute(){
          const clip=sec.querySelector('.clip');
          const gap=parseFloat(getComputedStyle(track).getPropertyValue('--gap')||18);
          cardW=cards[0].getBoundingClientRect().width+gap;
          const total=clip.getBoundingClientRect().width+gap;
          visible=Math.max(1,Math.round(total/cardW));
          go(index,false);
        }
        function go(i,animate=true){
          const maxIndex=Math.max(0,cards.length-visible);
          index=Math.min(Math.max(0,i),maxIndex);
          track.style.transitionDuration=animate?'.4s':'0s';
          track.style.transform=`translateX(${-index*cardW}px)`;
        }
        function step(dir){go(index+dir,true);}

        prev.addEventListener('click',()=>step(-1));
        next.addEventListener('click',()=>step(1));
        window.addEventListener('resize',compute);

        function startAuto(){
          if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
          stopAuto();
          timer=setInterval(()=>{
            const maxIndex=Math.max(0,cards.length-visible);
            index>=maxIndex?go(0,true):step(1);
          },4000);
        }
        function stopAuto(){ if(timer){ clearInterval(timer); timer=null; } }
        sec.addEventListener('mouseenter',stopAuto);
        sec.addEventListener('mouseleave',startAuto);
        sec.addEventListener('focusin',stopAuto);
        sec.addEventListener('focusout',startAuto);

        compute();
        startAuto();
        window.addEventListener('load',compute);
      });
    })();
  </script>

  <!-- Footer -->
  <footer>
    <div class="foot-inner">
      <div class="foot-top">
        <div class="foot-links">
          <a href="#">개인정보처리방침</a>
          <a href="#">이메일무단수집거부</a>
          <a href="#">CONTACT US</a>
        </div>
        <div style="font-family:Montserrat,sans-serif;font-weight:700">NPML</div>
      </div>
      <div class="foot-meta">
        주소: (우) 02447 대구광역시 북구 대학로 80 미래융합관 616호<br/>
        Tel: 02-000-0000 · E-mail: npml@example.ac.kr<br/>
        COPYRIGHT © NPML. ALL RIGHTS RESERVED.
      </div>
    </div>
  </footer>

</body>
</html>
