<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NPML — Natural Products Metabolomics Lab</title>

  <!-- 캐시 우회: 처음 로드 시 ?v=YYYYMMDD-HHMMSS 붙이기 -->
  <script>
    (function(){
      try{
        const url=new URL(location.href);
        if(url.searchParams.has('v')) return;
        const p=n=>String(n).padStart(2,'0');
        const now=new Date();
        const kr=new Date(now.getTime()+9*3600*1000);
        const ver=kr.getUTCFullYear()+p(kr.getUTCMonth()+1)+p(kr.getUTCDate())+'-'+p(kr.getUTCHours())+p(kr.getUTCMinutes())+p(kr.getUTCSeconds());
        url.searchParams.set('v',ver);
        location.replace(url.toString());
      }catch(e){console.warn('cachebuster failed',e);}
    })();
  </script>

  <!-- 폰트 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Noto+Sans+KR:wght@400;600&display=swap" rel="stylesheet">
  <!-- css 연결 -->
  <link rel="stylesheet" href="style.css">

</head>
<body>

  <!-- 내비 -->
  <div class="nav">
    <div class="nav-inner">
      <div class="brand">NPML</div>
      <nav>
        <a href="index.html">홈</a>
        <a href="research.html">Research</a>
        <a href="publications.html">Publications</a>
        <a href="links.html">Links</a>
        <a href="people.html">People</a>
      </nav>
    </div>
  </div>

  <!-- 히어로 배너 (이미지는 --hero-img 변수로 교체) -->
  <section class="hero" id="home">
    <div>
      <h1>경북대학교 천연물 대사체 연구실</h1>
      <p>활성성분 동정 · 바이오마커 개발 · 작용기전 규명</p>
    </div>
  </section>

  <!-- 두 개의 캐러셀 섹션 -->
  <div class="wrap">
    <div class="grid">
      <!-- Research -->
      <section class="section" data-carousel id="research-sec">
        <div class="head">
          <h2>Research Topics</h2>
          <div class="controls">
            <button class="btn" data-prev aria-label="이전">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
            </button>
            <button class="btn" data-next aria-label="다음">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
            </button>
          </div>
        </div>
        <div class="clip">
          <div class="track">
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/a/640/360" alt=""></div><div class="body"><h3 class="title">천연물 약리기전</h3><div class="meta">활성 성분 분리·동정</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/b/640/360" alt=""></div><div class="body"><h3 class="title">대사체 바이오마커</h3><div class="meta">LC–MS/NMR</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/c/640/360" alt=""></div><div class="body"><h3 class="title">에너지 대사·섬유화</h3><div class="meta">미토콘드리아 타깃</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/d/640/360" alt=""></div><div class="body"><h3 class="title">신규 화합물</h3><div class="meta">구조·기전 규명</div></div></article>
          </div>
        </div>
      </section>

      <!-- Publications -->
      <section class="section" data-carousel id="pubs-sec">
        <div class="head">
          <h2>Recent Publications</h2>
          <div class="controls">
            <button class="btn" data-prev aria-label="이전">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
            </button>
            <button class="btn" data-next aria-label="다음">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
            </button>
          </div>
        </div>
        <div class="clip">
          <div class="track">
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/e/640/360" alt=""></div><div class="body"><h3 class="title">Paper A</h3><div class="meta">Journal · 2025</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/f/640/360" alt=""></div><div class="body"><h3 class="title">Paper B</h3><div class="meta">Journal · 2024</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/g/640/360" alt=""></div><div class="body"><h3 class="title">Paper C</h3><div class="meta">Journal · 2023</div></div></article>
            <article class="card"><div class="thumb"><img src="https://picsum.photos/seed/h/640/360" alt=""></div><div class="body"><h3 class="title">Paper D</h3><div class="meta">Journal · 2022</div></div></article>
          </div>
        </div>
      </section>
    </div>

    <!-- 공지 + 바로가기 -->
    <section class="two-col" id="links-sec" style="margin-top:24px">
      <div class="notice">
        <h3>NOTICES</h3>
        <ul>
          <li><a href="#"><span>공지 1</span><time>2025-08-12</time></a></li>
          <li><a href="#"><span>공지 2</span><time>2025-08-05</time></a></li>
          <li><a href="#"><span>공지 3</span><time>2025-07-30</time></a></li>
        </ul>
      </div>

      <div class="quick">
        <a class="q3" href="#" target="_blank" rel="noopener">
          GALLERY
          <small>연구실 사진 보기</small>
        </a>
      </div>
    </section>
  </div>

  <!-- 캐러셀 스크립트 (translateX 기반) -->
  <script>
    (function(){
      document.querySelectorAll('[data-carousel]').forEach(sec=>{
        const track=sec.querySelector('.track');
        const cards=[...track.children];
        const prev=sec.querySelector('[data-prev]');
        const next=sec.querySelector('[data-next]');
        let index=0,visible=3,cardW=0,timer=null;

        function compute(){
          const clip=sec.querySelector('.clip');
          const gap=parseFloat(getComputedStyle(track).getPropertyValue('--gap')||18);
          cardW=cards[0].getBoundingClientRect().width+gap;
          const total=clip.getBoundingClientRect().width+gap;
          visible=Math.max(1,Math.round(total/cardW));
          go(index,false);
        }
        function go(i,animate=true){
          const maxIndex=Math.max(0,cards.length-visible);
          index=Math.min(Math.max(0,i),maxIndex);
          track.style.transitionDuration=animate?'.4s':'0s';
          track.style.transform=`translateX(${-index*cardW}px)`;
        }
        function step(dir){go(index+dir,true);}

        prev.addEventListener('click',()=>step(-1));
        next.addEventListener('click',()=>step(1));
        window.addEventListener('resize',compute);

        function startAuto(){
          if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
          stopAuto();
          timer=setInterval(()=>{
            const maxIndex=Math.max(0,cards.length-visible);
            index>=maxIndex?go(0,true):step(1);
          },4000);
        }
        function stopAuto(){ if(timer){ clearInterval(timer); timer=null; } }
        sec.addEventListener('mouseenter',stopAuto);
        sec.addEventListener('mouseleave',startAuto);
        sec.addEventListener('focusin',stopAuto);
        sec.addEventListener('focusout',startAuto);

        compute();
        startAuto();
        window.addEventListener('load',compute);
      });
    })();
  </script>

  <!-- Footer -->
  <footer>
    <div class="foot-inner">
      <div class="foot-top">
        <div class="foot-links">
          <a href="#">개인정보처리방침</a>
          <a href="#">이메일무단수집거부</a>
          <a href="#">CONTACT US</a>
        </div>
        <div style="font-family:Montserrat,sans-serif;font-weight:700">NPML</div>
      </div>
      <div class="foot-meta">
        주소: (우) 02447 대구광역시 북구 대학로 80 미래융합관 616호<br/>
        Tel: 02-000-0000 · E-mail: npml@example.ac.kr<br/>
        COPYRIGHT © NPML. ALL RIGHTS RESERVED.
      </div>
    </div>
  </footer>

</body>
</html>
